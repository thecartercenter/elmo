<div class="report-pane-header">
  <% if @reports.empty? %>
    <h2 class="interior"><%= translate_model(Report::Report) %></h2>
  <% else %>
    <form class="report-chooser">
      <%= select_tag("rpid", options_from_collection_for_select(@reports, "id", "name"),
                     prompt: I18n.t("report/report.choose_report"),
                     class: "custom-select custom-select-sm") %>
    </form>
    <div class="report-title">
      <h2 class="interior">
        <span class="report-title-text">
          <%= @report ? @report.name : t("common.report") %>
        </span>
        <% if @report %>
          <% if can?(:update, @report) %>
            <%= action_link(:edit, edit_report_path(@report), label: false) %>
            <%= action_link(:close, "#", label: false) %>
          <% end %>
        <% end %>
        <%= inline_load_ind %>
      </h2>
    </div>
  <% end %>
</div>
<div class="report-pane">
  <% if @report.nil? %>
    <div class="report-placeholder">
      <%= icon_tag("bar-chart") %>
      <p>
        <% if @reports.empty? %>
          <%= t("dashboard.no_reports") %>
          <%= link_to(t("dashboard.create_report"), new_report_path) if can?(:create, Report::Report) %>
        <% else %>
          <%= t("dashboard.report_placeholder") %>
          <%= link_to(t("dashboard.create_report_also"), new_report_path) if can?(:create, Report::Report) %>
        <% end %>
      </p>
    </div>
  <% else %>
    <%# We don't use the modal but we have to use the partial with the modal for legacy reasons. %>
    <div class="report-output-and-modal">
      <%= render("reports/output_and_modal") %>
    </div>
  <% end %>
</div>
